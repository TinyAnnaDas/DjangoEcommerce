
{% extends 'store/main.html' %}

{% load static %}

{% block content %}

    <!-- Breadcrumb Section Begin -->
    
    <!-- Breadcrumb Section End -->

    <!-- Checkout Section Begin -->
    <section class="checkout spad">
        <div class="container">
            <div class="checkout__form">
                <div class="row " style="margin-top: 8rem;">
                    
                    <div class="col-lg-8 col-md-6">
                        
                        <h6 class="coupon__code"><span class="icon_tag_alt"></span> Have a coupon? <a href="#">Click
                        here</a> to enter your code</h6>
                        <h6 class="checkout__title">Billing Details</h6>
                        <div class="box-element " id="form-wrapper"> 
                           

                                <hr>
                            <form id="shippingform">

                                {% csrf_token %}  
                            Â  
                                <div id="addresses">
                                    {% for shippingaddress in shippingaddress %}
                                        <input type="radio" class="radio-button" id="shippingaddressid" name="shippingaddressId" value="{{shippingaddress.id}}" checked>
                                        <br>
                                        <label for="html" id="addresses-label">
                                            <div class="card-body">
                                                <div class="card-title">
                                                    <b>  {{shippingaddress.name}}</b>
                                                </div>
                                                <div class="card-subtitle">
                                                    {{shippingaddress.phone}}
                                                </div>
                                                <div class="card-text">
                                                    {{shippingaddress.address}}, {{shippingaddress.city}}, {{shippingaddress.state}}, {{shippingaddress.zipcode}}
                                                </div>
                                            </div>
                                        
                                            
                                        </label>
                                        <br>
                                    {% endfor %}
                                </div>
                                    

                                


                                
                                <br>
                                <input id="deliver-button" class="btn btn-success" onclick="deliverHere()" value="Deliver here">

                                <hr>
                                <div>
                                    <p href="" onclick="newAddress()">+ Add New Address</p>
                                </div>

                                <hr>
                                 
                                <div id="shipping-info" class="d-none">
                                   
                                    <div class="checkout__input row">
                                
                                        <div class="col-lg-6">
                                            <div class="checkout__input">
                                                <p>First Name<span>*</span></p>
                                                <input type="text" placeholder="Name" name="name">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="checkout__input">
                                                <p>Phone Number<span>*</span></p>
                                                <input type="text" placeholder="10-digit mobile number" name="phone">
                                            </div>
                                        </div>
                               
                                        <div class="col-lg-12">
                                            <p requried>Address<span>*</span></p>
                                        </div>
                                        
                                        <div class="col-lg-6">
                                            <input type="text" placeholder="Street Address" class="checkout__input__add" name="address" required>
                                        </div>
                                        <div class="col-lg-6">   
                                            <input type="text" placeholder="Apartment, suite, unite ect (optinal)" name = "address1">
                                        </div>
                                        
                                    </div>
                                    <div class="row">
                                        <div class="checkout__input col-lg-6">
                                            <p>Town/City<span>*</span></p>
                                            <input type="text" name="city" requred>
                                        </div>
                                        <div class="checkout__input col-lg-6">
                                            <p>State<span>*</span></p>
                                            <input type="text" name="state" required>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="checkout__input col-lg-6">
                                            <p>Country<span>*</span></p>
                                            <input type="text" name = "country" required>
                                        </div>
                                        <div class="checkout__input col-lg-6">
                                            <p>Postcode / ZIP<span>*</span></p>
                                            <input type="text" name = "zipcode" required>
                                        </div>
                                    </div>
                                    <input id="address-button" class="btn btn-success " type="submit" value="SAVE AND DELIVER HERE">
                                    <button id="cancel-button" type="button" onclick="cancelNewAddress()">Cancel</button>
                                </div>
                                
                                <br>
     
                            </form>
                        </div>
                        <br>

                        <h6 class="checkout__title" id="payment-options">Payment Options</h6>
                        <div class="box-element d-none" id="payment-info">
                            <a class="btn btn-success w-100 " id="make-payment" style="background-color: #009a7b;">COD | Place Order</a>
                            <small>Pay with Razorpay</small>
                            <a href="" class="btn btn-primary w-100 payWithRazorpay">Razorpay | Place Order</a>
                            <small>Paypal Options</small>
                            <!-- Set up a container element for the button -->
                            <div id="paypal-button-container"></div>

                            <!-- <button id="make-payment">Make Payment</button> -->
                        </div>
                    
                    </div>

                    <div class="col-lg-4 col-md-6" >
                        <div class="cart__discount mt-4">
                            <h6>Discount codes</h6>

                                <div class="alert alert-danger" role="alert" id="coupon-error-msg" hidden>
                                    
                                </div>

                                <div class="alert alert-success" role="alert" hidden id="coupon-success-msg">
                                   
                                  </div>
                                <!-- <div class="alert alert-light alert-dismissible fade show mt-3" hidden role="alert" id="error-alert">
                                    <strong class="text-danger" id="coupon-error-msg"></strong>
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                    </button>
                                </div> -->
                          
                            <form action="" id="coupon-form">
                                <input id="carttotal" type="text" hidden value="{{order.get_cart_total}}">
                                <input id="orderid" type="text" hidden value="{{order.id}}">
                                <input  type="text" name="couponcode" placeholder="Coupon code">
                                <button type="submit" value="Apply">Apply</button>
                            </form>
                        </div>
                        <div class="checkout__order">

                            <h4 class="order__title">Order Summary</h4>
                            <div class="checkout__order__products">Items ({{order.get_cart_items}}) <span id="test-total">&#8377; {{order.get_cart_total}}</span></div>
                            <div class="checkout__order__products" hidden id="discounted_amount">Discount applied <span></span></div>
                           
                            <ul class="checkout__total__products">
                                <li>Delivery    <span style="color:#009a7b;"><strong>Free</strong></span></li>
                                
                            </ul>
                           
                            <ul class="checkout__total__all">
                                <li>Payable amount  <span id="coupon-cart-total">&#8377; {{order.get_cart_total}}</span></li>
                            </ul>
                            
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Checkout Section End -->

    <script src="https://www.paypal.com/sdk/js?client-id=AbBCXk-_rcWeDZj1xcG1O_Y80-wpEOg8JzjANNIzrZeGsNb6gwX4ZJlVR8y6K3kwBFc1UjXoUBOI6kxe&currency=USD" data-namespace="paypal_sdk" ></script>

    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    

    <script>


    </script>


{% endblock content %}